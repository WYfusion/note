在短时傅里叶变换 (STFT) 中，`N_FFT` 和 `N_HOP` 是两个重要的参数：

## N_FFT (FFT Length)

- **含义**: FFT 变换的长度，即每次分析的窗口大小（采样点数）
- **作用**:
    - 决定了频域分辨率：N_FFT 越大，频域分辨率越高
    - 影响时域分辨率：N_FFT 越大，时域分辨率越低
- **常见值**: 256, 512, 1024, 2048 等（通常是2的幂次），`FFT_len=512` 表示使用512点的FFT

## FFT_shift (Hop Size/Frame Shift)

- **含义**: 帧移，即相邻两个分析窗口之间的间隔（采样点数）
- **作用**:
    - 控制时域分析的重叠度
    - 影响时域分辨率和计算量
- **常见设置**: 通常为 N_FFT 的 1/2 或 1/4， `FFT_shift=256` 表示每次移动256个采样点

## 关系和影响

1. **重叠度计算**:
    重叠度 = (N_FFT - FFT_shift) / N_FFT
    - 如果 N_FFT=512, FFT_shift=256，则重叠度为 50%
    - 如果 N_FFT=512, FFT_shift=128，则重叠度为 75%
2. **时频分辨率权衡**:
    - **频域分辨率** = 采样率 / N_FFT
    - **时域分辨率** = FFT_shift / 采样率

## 频率分辨率计算

对于32kHz采样率、N_FFT=512的情况：
频率分辨率 = 采样率 / N_FFT = 32000 Hz / 512 = 62.5 Hz

## 理解要点
### 1. **频率分辨率的含义**
- **单位**: Hz（赫兹）
- **含义**: 每个频率bin之间的间隔是62.5Hz
- **不是**将32000Hz划分为512份，而是将**有效频谱范围**划分


- 每个 bin 是一个整数索引 k（k=0,1,...,N_FFT-1）。
- 其对应的中心频率: f_k = k * fs / N_FFT。
- 相邻两个 bin 的间隔（频率分辨率）: Δf = fs / N_FFT。
- 对实数信号，只需前 N_FFT/2 + 1 个 bin（0 到 Nyquist 频率 fs/2）。
- 一个 bin 不是“一个具体单一频率”，而是对该频率段（宽度约 Δf）的能量/复谱估计；我们用它中心频率表示。

### 2. **有效频谱范围**
根据奈奎斯特定理，有效频谱范围是：
- **0 Hz 到 fs/2** = 0 Hz 到 16000 Hz
- 所以实际是将 **16000 Hz** 划分为 **N_FFT/2 + 1 = 257** 个频率bin

### 3. **频率bin分布**
对于32kHz采样率，N_FFT=512
频率bin数量 = 512//2 + 1 = 257个bin
频率范围 = $\text{[0, 62.5, 125, 187.5, ..., 15937.5, 16000]}$ Hz
