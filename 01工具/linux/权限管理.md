# 权限管理

本节介绍 Linux 的权限系统，如何查看以及修改文件权限 (`chmod`)。

## 1. 理解权限 (`ls -l` 解读)
使用 `ls -l` 可以查看文件的详细权限信息。

```bash
ls -l src/run.sh
# 输出: -rwxr-xr-- 1 user group 1024 Oct 10 10:00 src/run.sh
```

**解读 `-rwxr-xr--`**：
第一位 `-` 代表文件类型（`-` 是文件，`d` 是目录）。后续 9 位分为三组：

1. **所有者 (User)**: `rwx` (可读、可写、可执行)
2. **所属组 (Group)**: `r-x` (可读、不可写、可执行)
3. **其他人 (Others)**: `r--` (可读、不可写、不可执行)

| 符号 | 含义 | 数字表示 |
| :---: | :--- | :---: |
| **r** | Read (读) | 4 |
| **w** | Write (写) | 2 |
| **x** | Execute (执行) | 1 |
| **-** | 无权限 | 0 |

## 2. 修改权限 (`chmod`)
**Ch**ange **Mod**e。

### 方式一：符号模式 (推荐新手)
使用 `u` (user), `g` (group), `o` (others), `a` (all) 配合 `+` (添加), `-` (移除), `=` (设置)。

- **添加执行权限**：
  让所有者可以运行脚本。
  ```bash
  chmod u+x src/run.sh
  ```

- **让所有人可读**：
  ```bash
  chmod a+r docs/manual.txt
  ```

- **移除其他人的写权限**：
  ```bash
  chmod o-w data/sensitive.csv
  ```

### 方式二：数字模式 (高效)
使用数字之和来表示权限。
- `7` = 4+2+1 (rwx)
- `6` = 4+2 (rw)
- `5` = 4+1 (rx)

- **常见权限设置**：
  ```bash
  # 755: 所有者(rwx), 组(rx), 其他(rx) -> 常用脚本权限
  chmod 755 src/run.sh

  # 644: 所有者(rw), 组(r), 其他(r) -> 常用普通文件权限
  chmod 644 docs/manual.txt

  # 600: 仅所有者可读写 -> 私钥或敏感配置
  chmod 600 config.py
  ```

- **递归修改 (`-R`)**：
  修改目录及其内部所有文件的权限。
  ```bash
  chmod -R 755 src/
  ```
