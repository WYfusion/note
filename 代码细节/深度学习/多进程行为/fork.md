```
pid_t pid = fork();
if (pid == 0) {
    // 子进程代码
} else {
    // 父进程代码
}
```

- 调用 `fork()` 后，**操作系统会复制当前进程的虚拟内存空间、文件描述符、环境变量、寄存器状态等**。
- 但实际物理内存不会立即复制 —— 使用 **Copy-On-Write (COW)** 优化：
    - 只有当父子进程中的某一个尝试**写内存**时，才真正复制那块内存页。
    - 所以 `fork` 启动速度极快，内存开销极小（初期）。

1. 主进程加载了数据集路径列表、transform 函数等 → 内存中已有这些对象。
2. `fork()` 创建 worker 子进程时，**这些对象直接“继承”过来，无需重新 import、重新初始化**。